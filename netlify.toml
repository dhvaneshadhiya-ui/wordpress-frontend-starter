# Netlify configuration for OG image generation and Image CDN

# Enable Image CDN for remote WordPress images
[images]
  remote_images = ["https://dev.igeeksblog.com/.*"]

[[edge_functions]]
  function = "og"
  path = "/og"

[[headers]]
  for = "/og"
  [headers.values]
    Cache-Control = "public, s-maxage=31536000, immutable"

# Build settings
[build]
  command = "npm run build"
  publish = "dist"

# Redirects for SPA - only apply if file doesn't exist
# This allows pre-rendered .html files from SSG to be served directly
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  force = false
